<link rel="import" href="packages/polymer/polymer.html">
<link rel="import" href="packages/core_elements/core_selector.html">
<link rel="import" href="packages/paper_elements/paper_item.html">
<link rel="import" href="packages/paper_elements/paper_button.html">
<link rel="import" href="packages/paper_elements/paper_ripple.html">
<link rel="import" href="add_run_dialog.html">

<polymer-element name="run-list" attributes="runs">
	<template>
		<link rel="stylesheet" href="../styles/default.css">
		<link rel="stylesheet" href="runlist.css">
					
		<div class="container">
			<core-selector class="statistics" valueattr="label" selected="{{selectedDistance}}">
				<template repeat="{{distance in viewmodels.keys | sort}}">
					<paper-item label="{{distance}}"></paper-item>
				</template>
			</core-selector>		
				<!-- 
					fit attribute needs parent with relative layout:
				 	https://www.polymer-project.org/docs/polymer/layout-attrs.html 
				-->
			<core-selector class="statistics" selected="{{selectedResult}}">			
				<template repeat="{{viewmodel in activeResults}}">
					<div class="runresult" relative>
						<paper-ripple fit></paper-ripple>
						<span>{{viewmodel.result}}</span>
						<span>{{viewmodel.description}}</span>
					</div>
				</template>
			</core-selector>

		</div>
	
	  <paper-button class="colored" label="add" on-click="{{testClick}}"></paper-button>
		<paper-button class="colored" label="add" on-click="{{buttonClick}}" raisedButton></paper-button>
		
		<add-run-dialog open="{{showDialog}}" defaultdistance="{{selectedDistance}}">
		</add-run-dialog>
	
		<script type="application/dart" src="runlist.dart" ></script>
	</template>
</polymer-element>
